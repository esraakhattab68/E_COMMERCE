import{a as y}from"./chunk-FE6KQA4S.js";import{a as V,b as l,c as E,d as F,f as A,g as N,h as P,i as R,k as T}from"./chunk-H44CRDNM.js";import{v as b}from"./chunk-4RJNZPSR.js";import{Ab as d,Ib as a,Pb as x,Ra as u,aa as c,da as h,gb as g,ib as m,mb as v,na as f,oa as _,qb as n,rb as i,sb as p,vb as C,zb as S}from"./chunk-TQSYPXNJ.js";function G(r,s){if(r&1){let e=C();n(0,"form",2),S("ngSubmit",function(){f(e);let t=d();return _(t.EmailSubmit())}),n(1,"div",3)(2,"label",4),a(3,"email"),i(),p(4,"input",5),i(),n(5,"button",6),a(6,"Verify Email"),i()()}if(r&2){let e=d();m("formGroup",e.VerifyEmail),u(5),m("disabled",e.VerifyEmail.invalid)}}function B(r,s){if(r&1){let e=C();n(0,"form",2),S("ngSubmit",function(){f(e);let t=d();return _(t.CodeSubmit())}),n(1,"div",3)(2,"label",7),a(3,"resetCode"),i(),p(4,"input",8),i(),n(5,"button",6),a(6,"Verify Code "),i()()}if(r&2){let e=d();m("formGroup",e.VerifyCode),u(5),m("disabled",e.VerifyCode.invalid)}}function D(r,s){if(r&1){let e=C();n(0,"form",2),S("ngSubmit",function(){f(e);let t=d();return _(t.ResetSubmit())}),n(1,"div",3)(2,"label",4),a(3,"email"),i(),p(4,"input",9),i(),n(5,"div",3)(6,"label",10),a(7,"newPassword"),i(),p(8,"input",11),i(),n(9,"button",6),a(10,"Reset Password "),i()()}if(r&2){let e=d();m("formGroup",e.resetpassword),u(9),m("disabled",e.resetpassword.invalid)}}var z=(()=>{let s=class s{constructor(){this.step=1,this._FormBuilder=c(R),this._AuthServiceService=c(y),this._Router=c(b),this.VerifyEmail=this._FormBuilder.group({email:[null,[l.required,l.email]]}),this.VerifyCode=this._FormBuilder.group({resetCode:[null,[l.required,l.pattern(/^\w{6}$/)]]}),this.resetpassword=this._FormBuilder.group({email:[null,[l.required,l.email]],newPassword:[null,[l.required,l.pattern(/^\w{6,}$/)]]})}EmailSubmit(){let o=this.VerifyEmail.get("email")?.value;this.resetpassword.get("email")?.patchValue(o),this._AuthServiceService.setEmailApi(this.VerifyEmail.value).subscribe({next:t=>{t.statusMsg==="success"&&(this.step=2,console.log(t))},error:t=>{}})}CodeSubmit(){this._AuthServiceService.setCodeApi(this.VerifyCode.value).subscribe({next:o=>{o.status==="Success"&&(this.step=3)},error:o=>{}})}ResetSubmit(){this._AuthServiceService.setResetPassApi(this.resetpassword.value).subscribe({next:o=>{localStorage.setItem("userToken",o.token),this._AuthServiceService.saveUserData(),this._Router.navigate(["/home"])},error:o=>{}})}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=h({type:s,selectors:[["app-forgetpassword"]],standalone:!0,features:[x],decls:6,vars:1,consts:[[1,"text-center","text-main","my-2"],[1,"bg-main-light","rounded-4","shadow","p-3",3,"formGroup"],[1,"bg-main-light","rounded-4","shadow","p-3",3,"ngSubmit","formGroup"],[1,"my-2"],["for","email"],["formControlName","email","id","email","type","email",1,"form-control"],[1,"btn-main",3,"disabled"],["for","resetCode"],["formControlName","resetCode","id","resetCode","type","text",1,"form-control"],["readonly","","formControlName","email","id","email","type","email",1,"form-control"],["for","newPassword"],["formControlName","newPassword","id","newPassword","type","password",1,"form-control"]],template:function(t,w){t&1&&(n(0,"section")(1,"h1",0),a(2,"Forget Password"),i(),g(3,G,7,2,"form",1)(4,B,7,2)(5,D,11,2),i()),t&2&&(u(3),v(3,w.step==1?3:w.step==2?4:w.step==3?5:-1))},dependencies:[T,A,V,E,F,N,P]});let r=s;return r})();export{z as ForgetpasswordComponent};
