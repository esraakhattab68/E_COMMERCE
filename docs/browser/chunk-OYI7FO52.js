import{a as K}from"./chunk-ISAXCDBS.js";import{a as ee}from"./chunk-AT3XFJEJ.js";import{a as z,c as G,e as R,j as q}from"./chunk-H44CRDNM.js";import{a as Q,b as X,c as Y}from"./chunk-DF3W6UCN.js";import{a as J}from"./chunk-EMOCYFX4.js";import{a as U}from"./chunk-HQG7HGUL.js";import{a as $,m as Z}from"./chunk-7XBFUZPT.js";import{h as I,i as O,w as j}from"./chunk-4RJNZPSR.js";import{Ab as m,Ib as p,Jb as h,Kb as H,Lb as M,Mb as W,Na as L,Nb as A,Pb as N,Qb as V,Ra as s,Rb as B,Vb as g,Wb as k,Xb as b,aa as d,da as D,ga as u,gb as _,ib as f,mb as C,na as v,nb as E,oa as x,ob as S,pb as w,qb as a,rb as o,sb as c,vb as y,zb as T}from"./chunk-TQSYPXNJ.js";var te=(()=>{let t=class t{transform(i){return`onSale ${i}`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=u({name:"sale",type:t,pure:!0,standalone:!0});let e=t;return e})();var ie=(()=>{let t=class t{transform(i,n){return i.split(" ",n).join(" ")}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=u({name:"termtext",type:t,pure:!0,standalone:!0});let e=t;return e})();var ne=(()=>{let t=class t{transform(i,n){return i.filter(l=>l.title.toLowerCase().includes(n.toLowerCase()))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=u({name:"search",type:t,pure:!0,standalone:!0});let e=t;return e})();var re=(e,t)=>t.id,ae=(e,t)=>t._id,oe=e=>["/detail",e],se=()=>[1,2,3,4,5];function le(e,t){e&1&&c(0,"img",12)}function ce(e,t){e&1&&c(0,"img",13)}function me(e,t){e&1&&c(0,"img",14)}function pe(e,t){e&1&&c(0,"img",15)}function de(e,t){e&1&&c(0,"img",16)}function ue(e,t){e&1&&c(0,"img",17)}function _e(e,t){if(e&1&&(a(0,"div"),c(1,"img",19),a(2,"h3",20),p(3),o()()),e&2){let r=m().$implicit;s(),f("src",r.image,L)("alt",r.name),s(2),h(r.name)}}function fe(e,t){e&1&&_(0,_e,4,3,"ng-template",4)}function ge(e,t){if(e&1&&(a(0,"h2",9),p(1,"Popular Categories "),o(),a(2,"owl-carousel-o",18),S(3,fe,1,0,null,4,ae),o()),e&2){let r=m();s(2),f("options",r.customOptionsCat),s(),w(r.categoriesList)}}function he(e,t){if(e&1){let r=y();a(0,"i",30),T("click",function(){v(r);let n=m().$implicit,l=m();return x(l.addFav(n.id))}),o()}}function ve(e,t){if(e&1){let r=y();a(0,"i",31),T("click",function(){v(r);let n=m().$implicit,l=m();return x(l.removeFav(n.id))}),o()}}function xe(e,t){e&1&&(a(0,"span"),c(1,"i",32),o())}function Ce(e,t){e&1&&c(0,"i",27)}function Se(e,t){if(e&1){let r=y();a(0,"div",5)(1,"div",21),_(2,he,1,0,"i",22)(3,ve,1,0),a(4,"div",23),c(5,"img",24),a(6,"h3",25),p(7),g(8,"sale"),g(9,"uppercase"),o(),a(10,"h4",25),p(11),g(12,"termtext"),o(),a(13,"div",26)(14,"span"),p(15),g(16,"currency"),o(),a(17,"div"),S(18,xe,2,0,"span",null,E),_(20,Ce,1,0,"i",27),a(21,"span",28),p(22),o()()()(),a(23,"button",29),T("click",function(){let n=v(r).$implicit,l=m();return x(l.addCart(n.id))}),p(24,"Add To Cart"),o()()()}if(e&2){let r=t.$implicit,i=m();s(2),C(2,i.wishListData.includes(r._id)?i.wishListData.includes(r._id)?3:-1:2),s(2),f("routerLink",B(19,oe,r.id)),s(),f("src",r.imageCover,L)("alt",r.title),s(2),h(k(9,11,k(8,9,r.category.name))),s(4),h(b(12,13,r.title,2)),s(4),H(" ",b(16,16,r.price,"GBP")," "),s(3),w(V(21,se).slice(0,r.ratingsAverage)),s(2),C(20,r.ratingsAverage%1!==0?20:-1),s(2),h(r.ratingsAverage)}}var ze=(()=>{let t=class t{constructor(){this._ProductsService=d(J),this._CategoriesService=d(K),this._CartService=d($),this._ToastrService=d(Z),this._NgxSpinnerService=d(ee),this._WishlistService=d(U),this.text="",this.customOptionsMain={loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,autoplay:!0,navSpeed:700,navText:['<i class="fa-solid fa-forward "></i>','<i class="fa-solid fa-backward "></i>'],items:1,nav:!0},this.customOptionsCat={loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,autoplay:!0,navSpeed:700,navText:['<i class="fa-solid fa-forward "></i>','<i class="fa-solid fa-backward "></i>'],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!0},this.productsList=[],this.categoriesList=[],this.wishListData=[]}ngOnInit(){this._WishlistService.getWishList().subscribe({next:i=>{let n=i.data.map(l=>l._id);this.wishListData=n,console.log(i,"d")}}),this._CategoriesService.getAllCategories().subscribe({next:i=>{console.log(i.data),this.categoriesList=i.data},error:i=>{console.log(i)}}),this.getAllProductSub=this._ProductsService.getAllProduct().subscribe({next:i=>{console.log(i.data),this.productsList=i.data},error:i=>{console.log(i)}})}addFav(i){this._WishlistService.addToWishList(i).subscribe({next:n=>{this._ToastrService.success(n.message),this.wishListData=n.data,this._WishlistService.wishListNumber.next(n.data.length)}})}removeFav(i){this._WishlistService.removeWishList(i).subscribe({next:n=>{this._ToastrService.success(n.message),this.wishListData=n.data,this._WishlistService.wishListNumber.next(n.data.length)}})}ngOnDestroy(){this.getAllProductSub?.unsubscribe()}addCart(i){this._CartService.addProductToCart(i).subscribe({next:n=>{this._ToastrService.success(n.message,"Fresh Cart"),this._CartService.cartNumber.next(n.numOfCartItems),console.log(this._CartService.cartNumber)},error:n=>{console.log(n)}})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=D({type:t,selectors:[["app-home"]],standalone:!0,features:[N],decls:25,vars:6,consts:[[1,"py-2"],[1,"row","g-0"],[1,"col-md-10"],[3,"options"],["carouselSlide",""],[1,"col-md-2"],["src","./assets/images/slider-image-2.jpeg","height","150px","alt","",1,"w-100"],["src","./assets/images/slider-image-1.jpeg","height","150px","alt","",1,"w-100"],[1,"my-2"],[1,"text-center","text-main",2,"font-family","'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif"],["type","search","placeholder","Search By Name.......",1,"form-control","w-50","mx-auto","my-2",3,"ngModelChange","ngModel"],[1,"row","g-3","justify-content-between","m-0"],["src","./assets/images/img1.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/img2.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/img3.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/img4.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/img5.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/img6.avif","height","300px","alt","",1,"w-100"],["routerLink","/categories",1,"cr",3,"options"],["height","250px",1,"w-100",3,"src","alt"],[1,"h6","text-main"],[1,"product","p-2"],[1,"fa-regular","fa-heart","heart","cr","fav"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center","small"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fa-regular","fa-heart","heart","cr","fav",3,"click"],[1,"fa-solid","fa-heart","heart","cr","fav",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(n,l){n&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),_(4,le,1,0,"ng-template",4)(5,ce,1,0,"ng-template",4)(6,me,1,0,"ng-template",4)(7,pe,1,0,"ng-template",4)(8,de,1,0,"ng-template",4)(9,ue,1,0,"ng-template",4),o(),c(10,"div"),o(),a(11,"div",5)(12,"div"),c(13,"img",6)(14,"img",7),o()()()(),a(15,"section",8),_(16,ge,5,1),o(),a(17,"section")(18,"h2",9),p(19,"popular products: "),o(),a(20,"input",10),A("ngModelChange",function(F){return W(l.text,F)||(l.text=F),F}),o(),a(21,"div",11),S(22,Se,25,22,"div",5,re),g(24,"search"),o()()),n&2&&(s(3),f("options",l.customOptionsMain),s(13),C(16,l.categoriesList.length>0?16:-1),s(4),M("ngModel",l.text),s(2),w(b(24,3,l.productsList.slice(0,18),l.text)))},dependencies:[Y,X,Q,ie,ne,q,z,G,R,j,I,te,O]});let e=t;return e})();export{ze as HomeComponent};
