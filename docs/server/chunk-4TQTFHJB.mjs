import './polyfills.server.mjs';
import{a as M,b as N,c as R}from"./chunk-RTCLWOO2.mjs";import{a as O}from"./chunk-2BOA2XRE.mjs";import{a as A}from"./chunk-H5XM5KSQ.mjs";import{a as V,b as $}from"./chunk-NTZ363UZ.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-WVUI6REW.mjs";import{E as I,g as y,m as W}from"./chunk-LOHHBPFK.mjs";import{Hb as l,Ib as _,Jb as F,Ma as w,Ob as k,Pb as L,Qa as o,Y as m,aa as D,fb as u,hb as v,ka as p,la as h,lb as f,mb as T,nb as S,ob as P,pb as a,qb as s,rb as C,sb as b,tb as E,ub as x,yb as g,zb as d}from"./chunk-SFVOZAT5.mjs";import"./chunk-VVCT4QZE.mjs";function j(i,r){return this.detailsProduct._id}var z=()=>[1,2,3,4,5];function B(i,r){if(i&1&&(a(0,"div"),C(1,"img",14),a(2,"h3",15),l(3),s()()),i&2){let e=d().$implicit,n=d(2);o(),v("src",e,w)("alt",n.detailsProduct.title),o(2),_(n.detailsProduct.title)}}function G(i,r){i&1&&(b(0),u(1,B,4,3,"ng-template",13),E())}function U(i,r){}function q(i,r){if(i&1){let e=x();a(0,"i",16),g("click",function(){p(e);let t=d(2);return h(t.addFav(t.detailsProduct.id))}),s()}}function H(i,r){if(i&1){let e=x();a(0,"i",17),g("click",function(){p(e);let t=d(2);return h(t.removeFav(t.detailsProduct.id))}),s()}}function J(i,r){i&1&&(a(0,"span"),C(1,"i",18),s())}function K(i,r){i&1&&C(0,"i",11)}function Q(i,r){if(i&1){let e=x();a(0,"section")(1,"h1",0),l(2,"Details Product"),s(),a(3,"div",1)(4,"div",2)(5,"owl-carousel-o",3),u(6,G,2,0,"ng-container",4),s()(),a(7,"div",5)(8,"div",6),S(9,U,0,0,null,null,j,!0),u(11,q,1,0,"i",7)(12,H,1,0),a(13,"h3"),l(14),s(),a(15,"p",8),l(16),s(),a(17,"h4",9),l(18),s(),a(19,"div",10)(20,"span"),l(21),s(),a(22,"div"),S(23,J,2,0,"span",null,T),u(25,K,1,0,"i",11),a(26,"span",8),l(27),s()()(),a(28,"button",12),g("click",function(){p(e);let t=d();return h(t.addCart(t.detailsProduct.id))}),l(29," + Add To Cart"),s()()()()()}if(i&2){let e=d();o(5),v("options",e.customOptionsPro),o(),v("ngForOf",e.detailsProduct.images),o(3),P(e.product),o(2),f(11,e.wishListData.includes(e.detailsProduct._id)?e.wishListData.includes(e.detailsProduct._id)?12:-1:11),o(3),_(e.detailsProduct.title),o(2),_(e.detailsProduct.description),o(2),_(e.detailsProduct.category.name),o(3),F(" ",e.detailsProduct.price,"EGP "),o(2),P(L(9,z).slice(0,e.detailsProduct.ratingsAverage)),o(2),f(25,e.detailsProduct.ratingsAverage%1!==0?25:-1),o(2),_(e.detailsProduct.ratingsAverage)}}var ct=(()=>{let r=class r{constructor(){this._ActivatedRoute=m(I),this._ProductsService=m(O),this._CartService=m(V),this._ToastrService=m($),this._WishlistService=m(A),this.detailsProduct=null,this.productsList={},this.product=[],this.wishListData=[],this.customOptionsPro={loop:!0,rtl:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,navSpeed:700,items:1,nav:!1}}ngOnInit(){this._WishlistService.getWishList().subscribe({next:n=>{let t=n.data.map(c=>c._id);this.wishListData=t,console.log(n,"d")}}),this._ActivatedRoute.paramMap.subscribe({next:n=>{let t=n.get("id");this._ProductsService.getSpecificProducts(t).subscribe({next:c=>{console.log(c.data),this.detailsProduct=c.data},error:c=>{console.log(c)}})}})}addCart(n){this._CartService.addProductToCart(n).subscribe({next:t=>{this._ToastrService.success(t.message,"Fresh Cart"),this._CartService.cartNumber.next(t.numOfCartItems),console.log(this._CartService.cartNumber)},error:t=>{console.log(t)}})}addFav(n){this._WishlistService.addToWishList(n).subscribe({next:t=>{this._ToastrService.success(t.message),this.wishListData=t.data,this._WishlistService.wishListNumber.next(t.data.length)}})}removeFav(n){this._WishlistService.removeWishList(n).subscribe({next:t=>{this._ToastrService.success(t.message),this.wishListData=t.data,this._WishlistService.wishListNumber.next(t.data.length)}})}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=D({type:r,selectors:[["app-detail"]],standalone:!0,features:[k],decls:1,vars:1,consts:[[1,"text-center","text-main","my-2"],[1,"row","align-items-center","m-0"],[1,"col-md-3"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"pro-details","position-relative"],[1,"fa-regular","fa-heart","heart","cr"],[1,"text-muted"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"btn-main","w-100",3,"click"],["carouselSlide",""],[1,"w-100",3,"src","alt"],[1,"h6","text-main"],[1,"fa-regular","fa-heart","heart","cr",3,"click"],[1,"fa-solid","fa-heart","heart","cr",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(t,c){t&1&&u(0,Q,30,10,"section"),t&2&&f(0,c.detailsProduct?0:-1)},dependencies:[R,N,M,W,y]});let i=r;return i})();export{ct as DetailComponent};
