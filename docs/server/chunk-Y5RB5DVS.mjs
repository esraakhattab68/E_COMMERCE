import './polyfills.server.mjs';
import{a as $}from"./chunk-FJ2IAWW2.mjs";import{a as I}from"./chunk-2BOA2XRE.mjs";import{a as V}from"./chunk-H5XM5KSQ.mjs";import{a as A,b as N}from"./chunk-NTZ363UZ.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-WVUI6REW.mjs";import{I as W,l as E}from"./chunk-LOHHBPFK.mjs";import{Hb as d,Ib as u,Ma as P,Ob as L,Pb as y,Qa as o,Qb as D,Ub as T,Wb as b,Y as m,aa as F,fb as x,hb as C,ka as _,la as p,lb as S,mb as k,nb as g,ob as w,pb as a,qb as c,rb as h,ub as v,yb as f,zb as l}from"./chunk-SFVOZAT5.mjs";import"./chunk-VVCT4QZE.mjs";var j=(i,n)=>n._id,B=i=>["/productdetails",i],M=()=>[1,2,3,4,5];function O(i,n){if(i&1){let r=v();a(0,"i",13),f("click",function(){_(r);let t=l().$implicit,s=l();return p(s.addFav(t.id))}),c()}}function z(i,n){if(i&1){let r=v();a(0,"i",14),f("click",function(){_(r);let t=l().$implicit,s=l();return p(s.removeFav(t.id))}),c()}}function G(i,n){i&1&&(a(0,"span"),h(1,"i",15),c())}function R(i,n){i&1&&h(0,"i",10)}function U(i,n){if(i&1){let r=v();a(0,"div",3)(1,"div",4),x(2,O,1,0,"i",5)(3,z,1,0),a(4,"header",6),h(5,"img",7),a(6,"h3",8),d(7),T(8,"cutText"),c(),a(9,"h4",8),d(10),c(),a(11,"div",9)(12,"span"),d(13),T(14,"currency"),c(),a(15,"div"),g(16,G,2,0,"span",null,k),x(18,R,1,0,"i",10),a(19,"span",11),d(20),c()()()(),a(21,"button",12),f("click",function(){let t=_(r).$implicit,s=l();return p(s.addProduct(t._id))}),d(22,"+AddToCart"),c()()()}if(i&2){let r=n.$implicit,e=l();o(2),S(2,e.wishListData.includes(r._id)?e.wishListData.includes(r._id)?3:-1:2),o(2),C("routerLink",D(15,B,r._id)),o(),C("src",r.imageCover,P)("alt",r.title),o(2),u(b(8,9,r.title,2)),o(3),u(r.category.name),o(3),u(b(14,12,r.price,"E\xA3")),o(3),w(y(17,M).slice(0,r.ratingsAverage)),o(2),S(18,r.ratingsAverage%1!==0?18:-1),o(2),u(r.ratingsAverage)}}var it=(()=>{let n=class n{constructor(){this._ProductsService=m(I),this._WishlistService=m(V),this._ToastrService=m(N),this._CartService=m(A),this.productData=[],this.wishListData=[]}ngOnInit(){this._WishlistService.getWishList().subscribe({next:e=>{let t=e.data.map(s=>s._id);this.wishListData=t,console.log(e,"d")}}),this._ProductsService.getAllProduct().subscribe({next:e=>{console.log(e),this.productData=e.data}})}addFav(e){this._WishlistService.addToWishList(e).subscribe({next:t=>{this._ToastrService.success(t.message),this.wishListData=t.data,this._WishlistService.wishListNumber.next(t.data.length)}})}removeFav(e){this._WishlistService.removeWishList(e).subscribe({next:t=>{this._ToastrService.success(t.message),this.wishListData=t.data,this._WishlistService.wishListNumber.next(t.data.length)}})}addProduct(e){this._CartService.addProductToCart(e).subscribe({next:t=>{this._ToastrService.success(t.message,"Fresh Cart"),this._CartService.cartNumber.next(t.numOfCartItems),console.log(this._CartService.cartNumber)},error:t=>{console.log(t)}})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=F({type:n,selectors:[["app-products"]],standalone:!0,features:[L],decls:6,vars:0,consts:[[1,"py-2"],[1,"text-center","text-main",2,"font-family","'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif"],[1,"row","g-2","justify-content-between","m-0"],[1,"col-sm-6","col-md-2"],[1,"product","p-2"],[1,"fa-regular","fa-heart","heart","cr"],["role","button",3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"h6"],[1,"d-flex","align-items-center","justify-content-between","small"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fa-regular","fa-heart","heart","cr",3,"click"],[1,"fa-solid","fa-heart","heart","cr",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(t,s){t&1&&(a(0,"section",0)(1,"h2",1),d(2,"All Products"),c(),a(3,"div",2),g(4,U,23,18,"div",3,j),c()()),t&2&&(o(4),w(s.productData))},dependencies:[W,$,E]});let i=n;return i})();export{it as ProductsComponent};
